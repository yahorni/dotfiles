# https://vdirsyncer.pimutils.org/en/stable/
# vim: ft=dosini

# commands:
# vdirsyncer discover
# vdirsyncer sync
# vdirsyncer metasync

[general]
status_path = "~/.config/vdirsyncer/status/"

[storage yandex]
type = "caldav"
url = "https://caldav.yandex.ru"
# gpg -c --cipher-algo AES256 ./creds
username.fetch = ["shell", "gpg -d ~/.config/vdirsyncer/creds.gpg | head -n1"]
password.fetch = ["shell", "gpg -d ~/.config/vdirsyncer/creds.gpg | tail -n1"]

[storage radicale]
type = "caldav"
url.fetch      = ["shell", "cut -d',' -f1 ~/.config/vdirsyncer/creds.csv"]
username.fetch = ["shell", "cut -d',' -f2 ~/.config/vdirsyncer/creds.csv"]
password.fetch = ["shell", "cut -d',' -f3 ~/.config/vdirsyncer/creds.csv"]

[storage local]
type = "filesystem"
path = "~/.local/share/calendars"
fileext = ".ics"

[pair calendars]
a = "local"
b = "radicale"
# b = "yandex"
collections = ["from a", "from b"]
metadata = ["color", "displayname", "description"]
