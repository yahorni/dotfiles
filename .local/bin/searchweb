#!/bin/sh

case "$1" in
    query)
        query="${2:-$(dmenu -p "Enter query:" <&-)}"
        [ ! -z "$query" ] && \
            case "$BROWSER" in
                firefox) "$BROWSER" -search "$query" ;;
                chrom*|brave)  "$BROWSER" "? $query" ;;
            esac
        ;;
    url)
        url="${2:-$(dmenu -p "Enter URL:" <&-)}"
        [ ! -z "$url" ] && linkhandler "$url"
        ;;
    *) echo "invalid type" && exit 1
esac

