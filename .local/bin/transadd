#!/bin/sh

categories="Downloads\nFilms\nMusic\nSerials\nBooks"

folder_prefix="$HOME"
default_folder="$folder_prefix/Downloads"
folder=""

case $(echo -e $categories | dmenu -i -p "Option:") in
    Films) folder="$folder_prefix/films" ;;
    Music) folder="$folder_prefix/music" ;;
    Serials) folder="$folder_prefix/serials" ;;
    Books) folder="$folder_prefix/books" ;;
    *) folder="$default_folder" ;;
esac

[ ! -d "$folder" ] && mkdir -pv "$folder"

pgrep -x transmission-da || (transmission-daemon && notify-send "Starting transmission daemon..." && sleep 3)
transmission-remote -a "$@" -w "$folder" && notify-send "ðŸ”½ Torrent added" "To: $folder"
